(()=>{var e={};e.id=626,e.ids=[626],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5909:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c}),s(8231),s(2029),s(5866);var a=s(3191),r=s(8716),l=s(7922),i=s.n(l),n=s(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["projects",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8231)),"/Users/moltbot/clawd/sage-dashboard-v2/src/app/projects/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"/Users/moltbot/clawd/sage-dashboard-v2/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/moltbot/clawd/sage-dashboard-v2/src/app/projects/[id]/page.tsx"],x="/projects/[id]/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/projects/[id]/page",pathname:"/projects/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9759:(e,t,s)=>{Promise.resolve().then(s.bind(s,5571))},7358:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},8393:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},8998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4019:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5571:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var a=s(326),r=s(7577),l=s(5047),i=s(58),n=s(9837),d=s(5329),c=s(6792),o=s(8129),x=s(6557);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,x.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var u=s(8998);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,x.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);var h=s(2714);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,x.Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var b=s(8393);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let y=(0,x.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var v=s(7358),f=s(1223);let j={todo:{variant:"secondary",icon:m,label:"To Do"},in_progress:{variant:"default",icon:u.Z,label:"In Progress"},blocked:{variant:"danger",icon:p,label:"Blocked"},review:{variant:"warning",icon:h.Z,label:"Review"},done:{variant:"success",icon:g,label:"Done"}},N={low:{variant:"secondary",label:"Low"},medium:{variant:"warning",label:"Medium"},high:{variant:"danger",label:"High"},urgent:{variant:"danger",label:"Urgent"}};function k({task:e,onToggleComplete:t,onUpdateTitle:s,onOpenModal:l,subtasks:d,onToggleExpand:o,isExpanded:x,level:m=0}){let[u,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)(e.title),k=()=>{h.trim()&&h!==e.title&&s(e.id,h.trim()),p(!1)},w=j[e.status],C=N[e.priority],_=d&&d.length>0;return(0,a.jsxs)(i.E.div,{layout:!0,className:(0,f.cn)("group flex items-center gap-3 p-3 rounded-lg hover:bg-bg-tertiary/50 transition-colors cursor-pointer border border-transparent hover:border-border-subtle",m>0&&"ml-6 border-l-2 border-border-default","done"===e.status&&"opacity-60"),onClick:()=>l(e.id),children:[a.jsx("div",{onClick:e=>e.stopPropagation(),children:a.jsx("input",{type:"checkbox",checked:"done"===e.status,onChange:()=>t(e.id),className:"w-4 h-4 rounded border-border-default bg-bg-secondary text-accent-blue focus:ring-accent-blue"})}),_&&a.jsx(n.z,{variant:"ghost",size:"icon",className:"h-6 w-6 p-0 hover:bg-bg-tertiary",onClick:e=>{e.stopPropagation(),o?.()},children:x?a.jsx(b.Z,{className:"h-4 w-4"}):a.jsx(y,{className:"h-4 w-4"})}),a.jsx("div",{className:"flex-1 min-w-0",onClick:e=>e.stopPropagation(),children:u?a.jsx("input",{value:h,onChange:e=>g(e.target.value),onBlur:k,onKeyDown:t=>{"Enter"===t.key?k():"Escape"===t.key&&(g(e.title),p(!1))},className:"w-full bg-transparent border-none outline-none text-text-primary placeholder-text-muted",autoFocus:!0}):a.jsx("div",{className:(0,f.cn)("text-sm font-medium text-text-primary truncate","done"===e.status&&"line-through"),onClick:()=>{u||p(!0)},children:e.title})}),(0,a.jsxs)(c.C,{variant:w.variant,className:"text-xs",children:[a.jsx(w.icon,{className:"h-3 w-3 mr-1"}),w.label]}),a.jsx(c.C,{variant:C.variant,className:"text-xs",children:C.label}),e.assigned_to&&a.jsx("div",{className:"flex items-center gap-1 text-xs text-text-muted",children:a.jsx("div",{className:"w-6 h-6 rounded-full bg-accent-blue flex items-center justify-center text-white text-xs font-medium",children:e.assigned_to.charAt(0).toUpperCase()})}),e.due_date&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-text-muted",children:[a.jsx(v.Z,{className:"h-3 w-3"}),(0,f.p6)(e.due_date)]})]})}var w=s(3855);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let C=(0,x.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),_=(0,x.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);function Z({tasks:e,onToggleComplete:t,onUpdateTitle:s,onOpenModal:l,onReorderTasks:c,onCreateTask:x,isLoading:m=!1}){let[u,p]=(0,r.useState)("flat"),[h,g]=(0,r.useState)(""),[b,y]=(0,r.useState)(new Set),v=e=>{let t=new Set(b);t.has(e)?t.delete(e):t.add(e),y(t)},f=()=>{h.trim()&&(x(h.trim()),g(""))},j=e=>{"Enter"===e.key&&f()},N=e.reduce((e,t)=>(e[t.status]||(e[t.status]=[]),e[t.status].push(t),e),{}),Z=t=>e.filter(e=>e.parent_task_id===t),P=(e,r=0)=>{let n=Z(e.id),d=b.has(e.id);return(0,a.jsxs)("div",{children:[a.jsx(k,{task:e,onToggleComplete:t,onUpdateTitle:s,onOpenModal:l,subtasks:n,onToggleExpand:()=>v(e.id),isExpanded:d,level:r}),a.jsx(o.M,{children:d&&n.map(e=>a.jsx(i.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:P(e,r+1)},e.id))})]},e.id)};return m?a.jsx(d.Zb,{className:"p-6",children:a.jsx("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-bg-tertiary/50 animate-pulse",children:[a.jsx("div",{className:"w-4 h-4 bg-bg-secondary rounded"}),a.jsx("div",{className:"flex-1 h-4 bg-bg-secondary rounded"}),a.jsx("div",{className:"w-16 h-6 bg-bg-secondary rounded-full"})]},t))})}):0===e.length?(0,a.jsxs)(d.Zb,{className:"p-12 text-center",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No tasks yet"}),a.jsx("p",{className:"text-text-muted mb-4",children:"Add tasks to get started."}),(0,a.jsxs)("div",{className:"flex gap-2 justify-center",children:[a.jsx("input",{value:h,onChange:e=>g(e.target.value),onKeyDown:j,placeholder:"Add a task...",className:"flex-1 px-3 py-2 bg-bg-secondary border border-border-default rounded-md text-text-primary placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue"}),a.jsx(n.z,{onClick:f,disabled:!h.trim(),children:a.jsx(w.Z,{className:"h-4 w-4"})})]})]}):(0,a.jsxs)(d.Zb,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Tasks"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(n.z,{variant:"flat"===u?"default":"ghost",size:"sm",onClick:()=>p("flat"),children:[a.jsx(C,{className:"h-4 w-4 mr-2"}),"Flat"]}),(0,a.jsxs)(n.z,{variant:"grouped"===u?"default":"ghost",size:"sm",onClick:()=>p("grouped"),children:[a.jsx(_,{className:"h-4 w-4 mr-2"}),"Grouped"]})]})]}),a.jsx("div",{className:"space-y-1 mb-4",children:"flat"===u?e.filter(e=>!e.parent_task_id).sort((e,t)=>e.order_index-t.order_index).map(e=>P(e)):Object.entries(N).map(([e,t])=>(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h4",{className:"text-sm font-medium text-text-secondary mb-3 capitalize",children:[e.replace("_"," ")," (",t.length,")"]}),a.jsx("div",{className:"space-y-1",children:t.filter(e=>!e.parent_task_id).sort((e,t)=>e.order_index-t.order_index).map(e=>P(e))})]},e))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{value:h,onChange:e=>g(e.target.value),onKeyDown:j,placeholder:"Add a task...",className:"flex-1 px-3 py-2 bg-bg-secondary border border-border-default rounded-md text-text-primary placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue"}),a.jsx(n.z,{onClick:f,disabled:!h.trim(),children:a.jsx(w.Z,{className:"h-4 w-4"})})]})]})}var P=s(4019);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let M=(0,x.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),q=[{value:"todo",label:"To Do"},{value:"in_progress",label:"In Progress"},{value:"blocked",label:"Blocked"},{value:"review",label:"Review"},{value:"done",label:"Done"}],z=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}],S=["sage","tim","both"];function T({task:e,isOpen:t,onClose:s,onUpdate:l,onDelete:d,onCreateSubtask:c,currentUser:x="sage"}){let[m,u]=(0,r.useState)({}),[p,h]=(0,r.useState)(""),[g,b]=(0,r.useState)(!1);if(!e)return null;let y=async()=>{confirm("Are you sure you want to delete this task? This action cannot be undone.")&&(b(!0),d(e.id),s())},v=()=>{p.trim()&&(c(e.id,p.trim()),h(""))};return a.jsx(o.M,{children:t&&a.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:s,children:(0,a.jsxs)(i.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-bg-secondary rounded-lg shadow-lg max-w-2xl w-full max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border-default",children:[a.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"Task Details"}),a.jsx(n.z,{variant:"ghost",size:"icon",onClick:s,children:a.jsx(P.Z,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6 max-h-[calc(90vh-140px)] overflow-y-auto",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Title"}),a.jsx("input",{type:"text",value:m.title||"",onChange:e=>u(t=>({...t,title:e.target.value})),className:"w-full px-3 py-2 bg-bg-primary border border-border-default rounded-md text-text-primary focus:outline-none focus:ring-2 focus:ring-accent-blue"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Description"}),a.jsx("textarea",{value:m.description||"",onChange:e=>u(t=>({...t,description:e.target.value})),rows:4,className:"w-full px-3 py-2 bg-bg-primary border border-border-default rounded-md text-text-primary focus:outline-none focus:ring-2 focus:ring-accent-blue resize-none",placeholder:"Add a description..."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Status"}),a.jsx("select",{value:m.status||e.status,onChange:e=>u(t=>({...t,status:e.target.value})),className:"w-full px-3 py-2 bg-bg-primary border border-border-default rounded-md text-text-primary focus:outline-none focus:ring-2 focus:ring-accent-blue",children:q.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Priority"}),a.jsx("select",{value:m.priority||e.priority,onChange:e=>u(t=>({...t,priority:e.target.value})),className:"w-full px-3 py-2 bg-bg-primary border border-border-default rounded-md text-text-primary focus:outline-none focus:ring-2 focus:ring-accent-blue",children:z.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Assignee"}),(0,a.jsxs)("select",{value:m.assigned_to||e.assigned_to||"",onChange:e=>u(t=>({...t,assigned_to:e.target.value||void 0})),className:"w-full px-3 py-2 bg-bg-primary border border-border-default rounded-md text-text-primary focus:outline-none focus:ring-2 focus:ring-accent-blue",children:[a.jsx("option",{value:"",children:"Unassigned"}),S.map(e=>a.jsx("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Due Date"}),a.jsx("input",{type:"date",value:m.due_date||e.due_date||"",onChange:e=>u(t=>({...t,due_date:e.target.value||void 0})),className:"w-full px-3 py-2 bg-bg-primary border border-border-default rounded-md text-text-primary focus:outline-none focus:ring-2 focus:ring-accent-blue"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Estimated Hours"}),a.jsx("input",{type:"number",min:"0",step:"0.5",value:m.estimated_hours||e.estimated_hours||"",onChange:e=>u(t=>({...t,estimated_hours:parseFloat(e.target.value)||void 0})),className:"w-full px-3 py-2 bg-bg-primary border border-border-default rounded-md text-text-primary focus:outline-none focus:ring-2 focus:ring-accent-blue"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Actual Hours"}),a.jsx("input",{type:"number",min:"0",step:"0.5",value:m.actual_hours||e.actual_hours||"",onChange:e=>u(t=>({...t,actual_hours:parseFloat(e.target.value)||void 0})),className:"w-full px-3 py-2 bg-bg-primary border border-border-default rounded-md text-text-primary focus:outline-none focus:ring-2 focus:ring-accent-blue"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Subtasks"}),a.jsx("div",{className:"space-y-2 mb-3",children:a.jsx("div",{className:"text-sm text-text-muted",children:"Subtasks will be listed here"})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{value:p,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"===e.key&&v()},placeholder:"Add a subtask...",className:"flex-1 px-3 py-2 bg-bg-primary border border-border-default rounded-md text-text-primary placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue"}),a.jsx(n.z,{onClick:v,disabled:!p.trim(),children:a.jsx(w.Z,{className:"h-4 w-4"})})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-border-default",children:[(0,a.jsxs)(n.z,{variant:"danger",onClick:y,disabled:g,children:[a.jsx(M,{className:"h-4 w-4 mr-2"}),"Delete Task"]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx(n.z,{variant:"outline",onClick:s,children:"Cancel"}),a.jsx(n.z,{onClick:()=>{l(e.id,m),s()},children:"Save Changes"})]})]})]})})})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let D=(0,x.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var E=s(9635);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let A=(0,x.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var U=s(4503);function R(){let e=(0,l.useParams)(),t=(0,l.useRouter)(),s=e.id,{project:o,isLoading:x,error:m}=(0,U.PY)(s),u=o?.tasks||[],[p,h]=(0,r.useState)(null),[g,b]=(0,r.useState)(!1),y=(e,t)=>{console.log("Create task:",e,t)},j=u.find(e=>e.id===p)||null;return x?a.jsx("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-bg-tertiary rounded mb-6"}),a.jsx("div",{className:"h-32 bg-bg-tertiary rounded"})]})}):m||!o?(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Project Not Found"}),a.jsx(d.Zb,{className:"p-6",children:(0,a.jsxs)("p",{className:"text-text-red",children:["Error loading project: ",m?.message||"Project not found"]})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-bg-primary",children:[a.jsx("div",{className:"border-b border-border-default bg-bg-secondary",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)(n.z,{variant:"ghost",onClick:()=>t.push("/projects"),className:"mb-4",children:[a.jsx(D,{className:"h-4 w-4 mr-2"}),"Back to Projects"]}),a.jsx("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:o.name}),a.jsx("p",{className:"text-text-muted mb-4",children:o.description}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-text-primary",children:"Progress"}),(0,a.jsxs)("span",{className:"text-sm text-text-muted",children:[o.progress,"%"]})]}),a.jsx("div",{className:"w-full bg-bg-tertiary rounded-full h-2",children:a.jsx(i.E.div,{className:"bg-accent-blue h-2 rounded-full",initial:{width:0},animate:{width:`${o.progress}%`},transition:{duration:.5}})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-text-muted",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(v.Z,{className:"h-4 w-4"}),"Due ",o.due_date?(0,f.p6)(o.due_date):"No due date"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(E.Z,{className:"h-4 w-4"}),o.owner]}),a.jsx(c.C,{variant:"outline",children:o.status}),a.jsx(c.C,{variant:"urgent"===o.priority?"danger":"high"===o.priority?"warning":"secondary",children:o.priority})]})]})})]})}),a.jsx("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(Z,{tasks:u,onToggleComplete:e=>{console.log("Toggle complete:",e)},onUpdateTitle:(e,t)=>{console.log("Update title:",e,t)},onOpenModal:e=>{h(e),b(!0)},onReorderTasks:e=>{console.log("Reorder tasks:",e)},onCreateTask:y})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(d.Zb,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Project Details"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Tags"}),a.jsx("div",{className:"flex gap-2 mt-1",children:o.tags?.map(e=>a.jsx(c.C,{variant:"secondary",children:e},e))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Created"}),a.jsx("p",{className:"text-sm text-text-primary",children:(0,f.p6)(o.created_at)})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Last Updated"}),a.jsx("p",{className:"text-sm text-text-primary",children:(0,f.p6)(o.updated_at)})]})]})]}),(0,a.jsxs)(d.Zb,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Recent Activity"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-accent-blue flex items-center justify-center",children:a.jsx(A,{className:"h-4 w-4 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-text-primary",children:'Task "Implement authentication" was completed'}),a.jsx("p",{className:"text-xs text-text-muted",children:"2 hours ago"})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-accent-green flex items-center justify-center",children:a.jsx(E.Z,{className:"h-4 w-4 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-text-primary",children:"Sage joined the project"}),a.jsx("p",{className:"text-xs text-text-muted",children:"1 day ago"})]})]})]})]})]})]})}),a.jsx(T,{task:j,isOpen:g,onClose:()=>{b(!1),h(null)},onUpdate:(e,t)=>{console.log("Update task:",e,t)},onDelete:e=>{console.log("Delete task:",e)},onCreateSubtask:y})]})}},9837:(e,t,s)=>{"use strict";s.d(t,{z:()=>d});var a=s(326),r=s(7577),l=s(9360),i=s(1223);let n=(0,l.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-bg-primary",{variants:{variant:{default:"bg-accent-blue text-white hover:bg-accent-blue/80",secondary:"bg-bg-tertiary text-text-primary hover:bg-bg-tertiary/80",outline:"border border-border-default bg-transparent text-text-primary hover:bg-bg-tertiary",ghost:"bg-transparent text-text-primary hover:bg-bg-tertiary",success:"bg-accent-green text-white hover:bg-accent-green/80",danger:"bg-accent-red text-white hover:bg-accent-red/80"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=(0,r.forwardRef)(({className:e,variant:t,size:s,asChild:r=!1,...l},d)=>a.jsx("button",{className:(0,i.cn)(n({variant:t,size:s,className:e})),ref:d,...l}));d.displayName="Button"},5329:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>n,Zb:()=>i,aY:()=>c,ll:()=>d});var a=s(326),r=s(7577),l=s(1223);let i=(0,r.forwardRef)(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,l.cn)("rounded-lg border border-border-subtle bg-bg-secondary text-text-primary shadow-sm",e),...t}));i.displayName="Card";let n=(0,r.forwardRef)(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let d=(0,r.forwardRef)(({className:e,...t},s)=>a.jsx("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle",(0,r.forwardRef)(({className:e,...t},s)=>a.jsx("p",{ref:s,className:(0,l.cn)("text-sm text-text-muted",e),...t})).displayName="CardDescription";let c=(0,r.forwardRef)(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,l.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",(0,r.forwardRef)(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},4503:(e,t,s)=>{"use strict";s.d(t,{PY:()=>d,Qs:()=>c,Z0:()=>n});var a=s(4976),r=s(7369),l=s(119);s(7577);var i=s(2777);function n(){(0,a.NL)();let e=(0,r.a)({queryKey:["projects"],queryFn:async()=>{let{data:e,error:t}=await i.O.from("projects").select("*").order("created_at",{ascending:!1});if(t)throw t;return e}});return{projects:e.data||[],isLoading:e.isLoading,error:e.error}}function d(e){(0,a.NL)();let t=(0,r.a)({queryKey:["project",e],queryFn:async()=>{let{data:t,error:s}=await i.O.from("projects").select("*").eq("id",e).single();if(s)throw s;let{data:a,error:r}=await i.O.from("tasks").select("*").eq("project_id",e).order("order_index",{ascending:!0});if(r)throw r;return{...t,tasks:a}},enabled:!!e});return{project:t.data,isLoading:t.isLoading,error:t.error}}function c(){let e=(0,a.NL)();return(0,l.D)({mutationFn:async e=>{let{data:t,error:s}=await i.O.from("projects").insert(e).select().single();if(s)throw s;return t},onSuccess:()=>{e.invalidateQueries({queryKey:["projects"]})}})}},8231:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var a=s(8570);let r=(0,a.createProxy)(String.raw`/Users/moltbot/clawd/sage-dashboard-v2/src/app/projects/[id]/page.tsx`),{__esModule:l,$$typeof:i}=r;r.default;let n=(0,a.createProxy)(String.raw`/Users/moltbot/clawd/sage-dashboard-v2/src/app/projects/[id]/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[214,971,845],()=>s(5909));module.exports=a})();