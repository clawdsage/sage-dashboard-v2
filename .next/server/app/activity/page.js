(()=>{var e={};e.id=263,e.ids=[263],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4939:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>l}),r(2211),r(2029),r(5866);var a=r(3191),i=r(8716),s=r(7922),n=r.n(s),o=r(5231),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);r.d(t,c);let l=["",{children:["activity",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2211)),"/Users/moltbot/clawd/sage-dashboard-v2/src/app/activity/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"/Users/moltbot/clawd/sage-dashboard-v2/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/moltbot/clawd/sage-dashboard-v2/src/app/activity/page.tsx"],u="/activity/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/activity/page",pathname:"/activity",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},8669:(e,t,r)=>{Promise.resolve().then(r.bind(r,8554))},2933:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(6557).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},4019:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(6557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},8554:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(326),i=r(7577),s=r(5047),n=r(8129),o=r(58),c=r(5791),l=r(3459),d=r(9837);function u({eventType:e,onActivityClick:t}){let{activities:r,isLoading:i,error:s,hasMore:u,loadMore:p}=(0,l.X)(e);return s?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-red-500",children:"Failed to load activities"})}):i&&0===r.length?a.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 animate-pulse",children:[a.jsx("div",{className:"w-5 h-5 bg-gray-300 dark:bg-gray-600 rounded"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-3/4 mb-1"}),a.jsx("div",{className:"h-3 bg-gray-300 dark:bg-gray-600 rounded w-1/2"})]}),a.jsx("div",{className:"h-3 bg-gray-300 dark:bg-gray-600 rounded w-16"})]},t))}):0===r.length?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No activity yet"})}):(0,a.jsxs)("div",{className:"space-y-0",children:[a.jsx(n.M,{initial:!1,children:r.map((e,r)=>a.jsx(o.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3,delay:.05*r},children:a.jsx(c.l,{activity:e,onClick:()=>t?.(e)})},e.id))}),u&&a.jsx("div",{className:"text-center py-4",children:a.jsx(d.z,{onClick:p,variant:"outline",disabled:i,children:i?"Loading...":"Load More"})})]})}let p=[{label:"All",value:"all"},{label:"Agents",value:"agent"},{label:"Projects",value:"project"},{label:"Reviews",value:"review"}];function h(){let[e,t]=(0,i.useState)("all"),r=(0,s.useRouter)();return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Activity"}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:p.map(r=>a.jsx("button",{onClick:()=>t(r.value),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${e===r.value?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:r.label},r.value))})}),a.jsx(u,{eventType:(e=>{switch(e){case"agent":return"agent";case"project":return"project";case"review":return"review";default:return}})(e),onActivityClick:e=>{"project"===e.entity_type&&e.entity_id?r.push(`/projects/${e.entity_id}`):"agent"===e.entity_type&&e.entity_id?r.push(`/agents/${e.entity_id}`):"task"===e.entity_type&&e.entity_id&&r.push("/projects")}})]})}},5791:(e,t,r)=>{"use strict";r.d(t,{l:()=>g});var a=r(326);r(7577);var i=r(6557);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i.Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);var n=r(2933),o=r(4019);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,i.Z)("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),l=(0,i.Z)("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),d=(0,i.Z)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),u=(0,i.Z)("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);var p=r(2036);let h=e=>{switch(e){case"agent_started":return{icon:s,color:"text-accent-blue"};case"agent_completed":return{icon:n.Z,color:"text-accent-green"};case"agent_failed":return{icon:o.Z,color:"text-accent-red"};case"project_created":return{icon:c,color:"text-accent-purple"};case"task_completed":return{icon:l,color:"text-accent-green"};case"review_approved":return{icon:d,color:"text-accent-green"};case"review_rejected":return{icon:u,color:"text-accent-red"};default:return{icon:s,color:"text-text-muted"}}};function g({activity:e,onClick:t}){let{icon:r,color:i}=h(e.event_type),s=(0,p.SY)(new Date(e.created_at));return(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 border-b border-border-subtle hover:bg-bg-tertiary cursor-pointer transition-colors",onClick:t,children:[a.jsx("div",{className:`flex-shrink-0 ${i}`,children:a.jsx(r,{size:20})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-text-primary truncate",children:e.title}),e.description&&a.jsx("p",{className:"text-xs text-text-muted truncate",children:e.description})]}),a.jsx("div",{className:"flex-shrink-0 text-xs text-text-muted",children:s})]})}},9837:(e,t,r)=>{"use strict";r.d(t,{z:()=>c});var a=r(326),i=r(7577),s=r(9360),n=r(1223);let o=(0,s.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-bg-primary",{variants:{variant:{default:"bg-accent-blue text-white hover:bg-accent-blue/80",secondary:"bg-bg-tertiary text-text-primary hover:bg-bg-tertiary/80",outline:"border border-border-default bg-transparent text-text-primary hover:bg-bg-tertiary",ghost:"bg-transparent text-text-primary hover:bg-bg-tertiary",success:"bg-accent-green text-white hover:bg-accent-green/80",danger:"bg-accent-red text-white hover:bg-accent-red/80"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=(0,i.forwardRef)(({className:e,variant:t,size:r,asChild:i=!1,...s},c)=>a.jsx("button",{className:(0,n.cn)(o({variant:t,size:r,className:e})),ref:c,...s}));c.displayName="Button"},3459:(e,t,r)=>{"use strict";r.d(t,{X:()=>l});var a=r(4976),i=r(7293),s=r(2592),n=class extends i.z{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:(0,s.Gm)()})}getOptimisticResult(e){return e.behavior=(0,s.Gm)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){let{state:r}=e,a=super.createResult(e,t),{isFetching:i,isRefetching:n,isError:o,isRefetchError:c}=a,l=r.fetchMeta?.fetchMore?.direction,d=o&&"forward"===l,u=i&&"forward"===l,p=o&&"backward"===l,h=i&&"backward"===l;return{...a,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,s.Qy)(t,r.data),hasPreviousPage:(0,s.ZF)(t,r.data),isFetchNextPageError:d,isFetchingNextPage:u,isFetchPreviousPageError:p,isFetchingPreviousPage:h,isRefetchError:c&&!d&&!p,isRefetching:n&&!u&&!h}}},o=r(4054);r(7577);var c=r(2777);function l(e){var t;(0,a.NL)();let r=(t={queryKey:["activity",e],queryFn:async({pageParam:t=0})=>{let r=c.O.from("activity_log").select("*").order("created_at",{ascending:!1}).range(20*t,(t+1)*20-1);e&&(Array.isArray(e)?r=r.in("event_type",e):"all"!==e&&(r=r.ilike("event_type",`${e}%`)));let{data:a,error:i}=await r;if(i)throw i;return a},getNextPageParam:(e,t)=>20===e.length?t.length:void 0,initialPageParam:0},(0,o.r)(t,n,void 0)),i=r.data?.pages.flat()||[],s=r.isLoading;return{activities:i,isLoading:s,error:r.error,hasMore:!!r.hasNextPage,loadMore:()=>r.fetchNextPage()}}},2036:(e,t,r)=>{"use strict";function a(e){if(!e||e<0)return"0s";let t=Math.floor(e/1e3),r=Math.floor(t/60),a=Math.floor(r/60);return a>0?`${a}h ${r%60}m`:r>0?`${r}m ${t%60}s`:`${t}s`}function i(e,t){if(null==e||0===e)return"$0.00";let r=t?"~$":"$";if(e<.01){let t=Number(e).toFixed(4).replace(/\.?0+$/,"");return`${r}${t}`}return`${r}${Number(e).toFixed(2)}`}r.d(t,{GG:()=>i,LU:()=>a,SY:()=>c,Wn:()=>n,hw:()=>o});let s={grok:{input:.1,output:.5},"grok-code":{input:.1,output:.5},"grok-code-fast":{input:.05,output:.25},"claude-sonnet":{input:3,output:15},"claude-opus":{input:15,output:75},"claude-haiku":{input:.25,output:1.25},"gpt-4o":{input:2.5,output:10},"gpt-4":{input:30,output:60},"gpt-3.5":{input:.5,output:1.5},deepseek:{input:.14,output:.28},"deepseek-coder":{input:.14,output:.28},gemini:{input:.075,output:.3},"gemini-flash":{input:.075,output:.3},qwen:{input:.1,output:.3},default:{input:.5,output:1.5}};function n(e,t){if(!e||e<=0)return 0;let r=s.default;if(t){let e=t.toLowerCase();for(let[t,a]of Object.entries(s))if(e.includes(t)){r=a;break}}return .3*e/1e6*r.input+.7*e/1e6*r.output}function o(e){return e?e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}k`:e.toString():"0"}function c(e){let t=new Date,r=new Date(e),a=Math.floor(Math.floor((t.getTime()-r.getTime())/1e3)/60),i=Math.floor(a/60),s=Math.floor(i/24);return s>0?`${s} day${s>1?"s":""} ago`:i>0?`${i} hour${i>1?"s":""} ago`:a>0?`${a} minute${a>1?"s":""} ago`:"Just now"}},2211:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>o});var a=r(8570);let i=(0,a.createProxy)(String.raw`/Users/moltbot/clawd/sage-dashboard-v2/src/app/activity/page.tsx`),{__esModule:s,$$typeof:n}=i;i.default;let o=(0,a.createProxy)(String.raw`/Users/moltbot/clawd/sage-dashboard-v2/src/app/activity/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[214,971,845],()=>r(4939));module.exports=a})();