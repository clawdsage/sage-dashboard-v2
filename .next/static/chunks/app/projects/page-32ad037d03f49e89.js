(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[895],{69348:function(e,t,s){Promise.resolve().then(s.bind(s,65580))},404:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(81066).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},92513:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(81066).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},54817:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(81066).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},74697:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(81066).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},16463:function(e,t,s){"use strict";var r=s(71169);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},65580:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var r=s(57437),a=s(2265),i=s(6760),n=s(64608),o=s(21513),c=s(16463),l=s(649);function u(e){let{project:t}=e,s=(0,c.useRouter)(),a=t.task_count>0?t.completed_tasks/t.task_count*100:0;return(0,r.jsx)(o.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,r.jsx)(n.Zb,{className:"cursor-pointer hover:shadow-lg transition-shadow duration-200",onClick:()=>{s.push("/projects/".concat(t.id))},children:(0,r.jsx)(n.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:t.color||"#3b82f6"}}),(0,r.jsx)("h3",{className:"text-lg font-semibold",children:t.name})]}),(e=>{switch(e){case"active":return(0,r.jsx)(l.C,{variant:"success",children:"Active"});case"completed":return(0,r.jsx)(l.C,{variant:"secondary",children:"Completed"});case"on_hold":return(0,r.jsx)(l.C,{variant:"warning",children:"On Hold"});default:return(0,r.jsx)(l.C,{variant:"default",children:e})}})(t.status)]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsxs)("span",{className:"text-text-secondary",children:[t.completed_tasks," / ",t.task_count," tasks"]}),(0,r.jsxs)("span",{className:"text-text-muted",children:[Math.round(a),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-bg-tertiary rounded-full h-2",children:(0,r.jsx)(o.E.div,{className:"bg-accent-blue h-2 rounded-full",initial:{width:0},animate:{width:"".concat(a,"%")},transition:{duration:.8,ease:"easeOut"}})})]}),t.due_date&&(0,r.jsxs)("div",{className:"text-sm ".concat((e=>{if(!e)return"text-text-muted";let t=new Date,s=Math.ceil((new Date(e).getTime()-t.getTime())/864e5);return s<0?"text-text-red":s<=3?"text-accent-amber":"text-text-muted"})(t.due_date)),children:["Due: ",new Date(t.due_date).toLocaleDateString()]}),(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(e=>{switch(e){case"high":return(0,r.jsx)(l.C,{variant:"danger",children:"High"});case"medium":return(0,r.jsx)(l.C,{variant:"warning",children:"Medium"});case"low":return(0,r.jsx)(l.C,{variant:"secondary",children:"Low"});default:return null}})(t.priority),t.tags&&t.tags.map((e,t)=>(0,r.jsx)(l.C,{variant:"outline",className:"text-xs",children:e},t))]})})]})})})})}var d=s(54817),h=s(404);function m(e){let{projects:t,isLoading:s}=e,[c,l]=(0,a.useState)("all"),[m,p]=(0,a.useState)(""),[f,b]=(0,a.useState)("name"),x=(0,a.useMemo)(()=>{let e=t.filter(e=>("active"!==c||"active"===e.status)&&("completed"!==c||"completed"===e.status)&&("mine"!==c||"sage"===e.owner)&&(!m||!!e.name.toLowerCase().includes(m.toLowerCase())));return e.sort((e,t)=>{switch(f){case"priority":let s={high:3,medium:2,low:1};return(s[t.priority]||0)-(s[e.priority]||0);case"due_date":if(!e.due_date&&!t.due_date)return 0;if(!e.due_date)return 1;if(!t.due_date)return -1;return new Date(e.due_date).getTime()-new Date(t.due_date).getTime();case"progress":let r=e.task_count>0?e.completed_tasks/e.task_count:0;return(t.task_count>0?t.completed_tasks/t.task_count:0)-r;default:return e.name.localeCompare(t.name)}}),e},[t,c,m,f]);return s?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,t)=>(0,r.jsx)(n.Zb,{className:"animate-pulse",children:(0,r.jsx)(n.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-4 h-4 bg-bg-tertiary rounded-full"}),(0,r.jsx)("div",{className:"h-6 bg-bg-tertiary rounded w-32"})]}),(0,r.jsx)("div",{className:"h-4 bg-bg-tertiary rounded w-full"}),(0,r.jsx)("div",{className:"h-2 bg-bg-tertiary rounded w-full"})]})})},t))}):0===t.length?(0,r.jsxs)(n.Zb,{className:"p-12 text-center",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No projects yet"}),(0,r.jsx)("p",{className:"text-text-muted mb-4",children:"Create your first project to start organizing your tasks."}),(0,r.jsx)(i.z,{children:"Create Project"})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"mine",label:"Mine"},{value:"completed",label:"Completed"}].map(e=>(0,r.jsx)(i.z,{variant:c===e.value?"default":"outline",size:"sm",onClick:()=>l(e.value),children:e.label},e.value))}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-text-muted"}),(0,r.jsx)("input",{type:"text",placeholder:"Search projects...",value:m,onChange:e=>p(e.target.value),className:"pl-10 pr-4 py-2 bg-bg-primary border border-border-default rounded-md focus:outline-none focus:ring-2 focus:ring-accent-blue text-sm w-64"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(h.Z,{className:"h-4 w-4 text-text-muted"}),(0,r.jsx)("select",{value:f,onChange:e=>b(e.target.value),className:"bg-bg-primary border border-border-default rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-accent-blue text-sm",children:[{value:"priority",label:"Priority"},{value:"due_date",label:"Due Date"},{value:"progress",label:"Progress"},{value:"name",label:"Name"}].map(e=>(0,r.jsxs)("option",{value:e.value,children:["Sort by ",e.label]},e.value))})]})]})]}),0===x.length?(0,r.jsxs)(n.Zb,{className:"p-12 text-center",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No projects found"}),(0,r.jsx)("p",{className:"text-text-muted",children:"Try adjusting your filters or search terms."})]}):(0,r.jsx)(o.E.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:x.map(e=>(0,r.jsx)(u,{project:e},e.id))})]})}var p=s(34446),f=s(74697),b=s(92513);let x=["#3b82f6","#22c55e","#f59e0b","#ef4444","#a855f7","#06b6d4","#84cc16","#f97316"],g=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],v=[{value:"sage",label:"Sage"},{value:"tim",label:"Tim"},{value:"both",label:"Both"}];function y(e){let{isOpen:t,onClose:s,onCreate:n,isLoading:c,initialData:l}=e,[u,d]=(0,a.useState)((null==l?void 0:l.name)||""),[h,m]=(0,a.useState)((null==l?void 0:l.description)||""),[y,j]=(0,a.useState)((null==l?void 0:l.color)||x[0]),[w,N]=(0,a.useState)((null==l?void 0:l.priority)||"medium"),[C,k]=(0,a.useState)((null==l?void 0:l.due_date)||""),[O,_]=(0,a.useState)((null==l?void 0:l.tags)||[]),[M,P]=(0,a.useState)(""),[S,R]=(0,a.useState)((null==l?void 0:l.owner)||"sage"),Z=()=>{M.trim()&&!O.includes(M.trim())&&(_([...O,M.trim()]),P(""))},D=e=>{_(O.filter(t=>t!==e))};return(0,a.useEffect)(()=>{t&&l?(d(l.name||""),m(l.description||""),j(l.color||x[0]),N(l.priority||"medium"),k(l.due_date||""),_(l.tags||[]),R(l.owner||"sage")):t&&(d(""),m(""),j(x[0]),N("medium"),k(""),_([]),P(""),R("sage"))},[t,l]),(0,r.jsx)(p.M,{children:t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:s}),(0,r.jsx)(o.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-bg-secondary border border-border-subtle rounded-lg shadow-lg w-full max-w-md",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border-subtle",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:l?"Edit Project":"Create New Project"}),(0,r.jsx)(i.z,{variant:"ghost",size:"icon",onClick:s,children:(0,r.jsx)(f.Z,{className:"h-4 w-4"})})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),u.trim()&&(n({name:u.trim(),description:h.trim()||void 0,color:y,status:(null==l?void 0:l.status)||"active",priority:w,due_date:C||void 0,tags:O,owner:S}),d(""),m(""),j(x[0]),N("medium"),k(""),_([]),P(""),R("sage"),s())},className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Project Name *"}),(0,r.jsx)("input",{type:"text",value:u,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 bg-bg-primary border border-border-default rounded-md focus:outline-none focus:ring-2 focus:ring-accent-blue",placeholder:"Enter project name",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Description"}),(0,r.jsx)("textarea",{value:h,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 bg-bg-primary border border-border-default rounded-md focus:outline-none focus:ring-2 focus:ring-accent-blue resize-none",rows:3,placeholder:"Optional description"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Priority"}),(0,r.jsx)("select",{value:w,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 bg-bg-primary border border-border-default rounded-md focus:outline-none focus:ring-2 focus:ring-accent-blue",children:g.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Due Date"}),(0,r.jsx)("input",{type:"date",value:C,onChange:e=>k(e.target.value),className:"w-full px-3 py-2 bg-bg-primary border border-border-default rounded-md focus:outline-none focus:ring-2 focus:ring-accent-blue"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Tags"}),(0,r.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,r.jsx)("input",{type:"text",value:M,onChange:e=>P(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),Z()),className:"flex-1 px-3 py-2 bg-bg-primary border border-border-default rounded-md focus:outline-none focus:ring-2 focus:ring-accent-blue",placeholder:"Add a tag"}),(0,r.jsx)(i.z,{type:"button",onClick:Z,size:"sm",children:(0,r.jsx)(b.Z,{className:"h-4 w-4"})})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:O.map((e,t)=>(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-bg-tertiary text-text-primary text-sm rounded-md",children:[e,(0,r.jsx)("button",{type:"button",onClick:()=>D(e),className:"ml-2 text-text-muted hover:text-text-primary",children:(0,r.jsx)(f.Z,{className:"h-3 w-3"})})]},t))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Color"}),(0,r.jsx)("div",{className:"flex space-x-2",children:x.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>j(e),className:"w-8 h-8 rounded-full border-2 ".concat(y===e?"border-text-primary":"border-border-default"),style:{backgroundColor:e}},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Owner"}),(0,r.jsx)("select",{value:S,onChange:e=>R(e.target.value),className:"w-full px-3 py-2 bg-bg-primary border border-border-default rounded-md focus:outline-none focus:ring-2 focus:ring-accent-blue",children:v.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,r.jsx)(i.z,{type:"button",variant:"outline",onClick:s,children:"Cancel"}),(0,r.jsx)(i.z,{type:"submit",disabled:!u.trim()||c,children:c?"Creating...":l?"Update Project":"Create Project"})]})]})]})})]})})}var j=s(72216);function w(){let{projects:e,isLoading:t,error:s}=(0,j.Z0)(),o=(0,j.Qs)(),[c,l]=(0,a.useState)(!1);return s?(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Projects"}),(0,r.jsx)(n.Zb,{className:"p-6",children:(0,r.jsxs)("p",{className:"text-text-red",children:["Error loading projects: ",s.message]})})]}):(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Projects"}),(0,r.jsxs)(i.z,{onClick:()=>l(!0),children:[(0,r.jsx)(b.Z,{className:"h-4 w-4 mr-2"}),"New Project"]})]}),(0,r.jsx)(m,{projects:e,isLoading:t}),(0,r.jsx)(y,{isOpen:c,onClose:()=>l(!1),onCreate:e=>{let{name:t,description:s,color:r,status:a}=e;o.mutate({name:t,description:s,color:r,status:a,priority:"medium",progress:0,owner:"sage"})},isLoading:o.isPending})]})}},649:function(e,t,s){"use strict";s.d(t,{C:function(){return o}});var r=s(57437),a=s(13027),i=s(49354);let n=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-accent-blue text-white hover:bg-accent-blue/80",secondary:"border-transparent bg-bg-tertiary text-text-primary hover:bg-bg-tertiary/80",outline:"text-text-primary",success:"border-transparent bg-accent-green text-white hover:bg-accent-green/80",warning:"border-transparent bg-accent-amber text-white hover:bg-accent-amber/80",danger:"border-transparent bg-accent-red text-white hover:bg-accent-red/80"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)(n({variant:s}),t),...a})}},6760:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var r=s(57437),a=s(2265),i=s(13027),n=s(49354);let o=(0,i.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-bg-primary",{variants:{variant:{default:"bg-accent-blue text-white hover:bg-accent-blue/80",secondary:"bg-bg-tertiary text-text-primary hover:bg-bg-tertiary/80",outline:"border border-border-default bg-transparent text-text-primary hover:bg-bg-tertiary",ghost:"bg-transparent text-text-primary hover:bg-bg-tertiary",success:"bg-accent-green text-white hover:bg-accent-green/80",danger:"bg-accent-red text-white hover:bg-accent-red/80"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=(0,a.forwardRef)((e,t)=>{let{className:s,variant:a,size:i,asChild:c=!1,...l}=e;return(0,r.jsx)("button",{className:(0,n.cn)(o({variant:a,size:i,className:s})),ref:t,...l})});c.displayName="Button"},64608:function(e,t,s){"use strict";s.d(t,{Ol:function(){return o},Zb:function(){return n},aY:function(){return l},ll:function(){return c}});var r=s(57437),a=s(2265),i=s(49354);let n=(0,a.forwardRef)((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border border-border-subtle bg-bg-secondary text-text-primary shadow-sm",s),...a})});n.displayName="Card";let o=(0,a.forwardRef)((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...a})});o.displayName="CardHeader";let c=(0,a.forwardRef)((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});c.displayName="CardTitle",(0,a.forwardRef)((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-text-muted",s),...a})}).displayName="CardDescription";let l=(0,a.forwardRef)((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",s),...a})});l.displayName="CardContent",(0,a.forwardRef)((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},72216:function(e,t,s){"use strict";s.d(t,{PY:function(){return l},Qs:function(){return u},Z0:function(){return c}});var r=s(93191),a=s(76351),i=s(25524),n=s(2265),o=s(44316);function c(){let e=(0,r.NL)(),t=(0,a.a)({queryKey:["projects"],queryFn:async()=>{let{data:e,error:t}=await o.O.from("projects").select("*").order("created_at",{ascending:!1});if(t)throw t;return e}});return(0,n.useEffect)(()=>{let t=o.O.channel("projects_changes").on("postgres_changes",{event:"*",schema:"public",table:"projects"},t=>{e.invalidateQueries({queryKey:["projects"]})}).subscribe();return()=>{o.O.removeChannel(t)}},[e]),{projects:t.data||[],isLoading:t.isLoading,error:t.error}}function l(e){let t=(0,r.NL)(),s=(0,a.a)({queryKey:["project",e],queryFn:async()=>{let{data:t,error:s}=await o.O.from("projects").select("*").eq("id",e).single();if(s)throw s;let{data:r,error:a}=await o.O.from("tasks").select("*").eq("project_id",e).order("order_index",{ascending:!0});if(a)throw a;return{...t,tasks:r}},enabled:!!e});return(0,n.useEffect)(()=>{if(!e)return;let s=o.O.channel("project_".concat(e,"_changes")).on("postgres_changes",{event:"*",schema:"public",table:"projects",filter:"id=eq.".concat(e)},s=>{t.invalidateQueries({queryKey:["project",e]})}).subscribe(),r=o.O.channel("project_".concat(e,"_tasks_changes")).on("postgres_changes",{event:"*",schema:"public",table:"tasks",filter:"project_id=eq.".concat(e)},s=>{t.invalidateQueries({queryKey:["project",e]})}).subscribe();return()=>{o.O.removeChannel(s),o.O.removeChannel(r)}},[t,e]),{project:s.data,isLoading:s.isLoading,error:s.error}}function u(){let e=(0,r.NL)();return(0,i.D)({mutationFn:async e=>{let{data:t,error:s}=await o.O.from("projects").insert(e).select().single();if(s)throw s;return t},onSuccess:()=>{e.invalidateQueries({queryKey:["projects"]})}})}},44316:function(e,t,s){"use strict";s.d(t,{O:function(){return r}});let r=(0,s(17327).eI)("https://kunkqedkkpwaspsucytj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt1bmtxZWRra3B3YXNwc3VjeXRqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk3Mzg4MTgsImV4cCI6MjA4NTMxNDgxOH0.gLXr1NCOSaLKGySozsDKJucOhtEDrm1OOfmbj7Z7-1o")},49354:function(e,t,s){"use strict";s.d(t,{SY:function(){return o},aF:function(){return c},cn:function(){return i},p6:function(){return n}});var r=s(44839),a=s(96164);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}function n(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(e))}function o(e){let t=new Date,s=new Date(e),r=Math.floor((t.getTime()-s.getTime())/1e3);return r<60?"just now":r<3600?"".concat(Math.floor(r/60),"m ago"):r<86400?"".concat(Math.floor(r/3600),"h ago"):"".concat(Math.floor(r/86400),"d ago")}function c(e,t){return e.length<=t?e:e.slice(0,t)+"..."}},92812:function(e,t,s){"use strict";s.d(t,{R:function(){return o},m:function(){return n}});var r=s(69948),a=s(43494),i=s(30924),n=class extends a.F{#e;#t;#s;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#s=e.mutationCache,this.#t=[],this.state=e.state||o(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||("pending"===this.state.status?this.scheduleGc():this.#s.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#a({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=(0,i.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#a({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#a({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});let r="pending"===this.state.status,a=!this.#r.canStart();try{if(r)t();else{this.#a({type:"pending",variables:e,isPaused:a}),this.#s.config.onMutate&&await this.#s.config.onMutate(e,this,s);let t=await this.options.onMutate?.(e,s);t!==this.state.context&&this.#a({type:"pending",context:t,variables:e,isPaused:a})}let i=await this.#r.start();return await this.#s.config.onSuccess?.(i,e,this.state.context,this,s),await this.options.onSuccess?.(i,e,this.state.context,s),await this.#s.config.onSettled?.(i,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(i,null,e,this.state.context,s),this.#a({type:"success",data:i}),i}catch(t){try{await this.#s.config.onError?.(t,e,this.state.context,this,s)}catch(e){Promise.reject(e)}try{await this.options.onError?.(t,e,this.state.context,s)}catch(e){Promise.reject(e)}try{await this.#s.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,s)}catch(e){Promise.reject(e)}try{await this.options.onSettled?.(void 0,t,e,this.state.context,s)}catch(e){Promise.reject(e)}throw this.#a({type:"error",error:t}),t}finally{this.#s.runNext(this)}}#a(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),r.Vr.batch(()=>{this.#t.forEach(t=>{t.onMutationUpdate(e)}),this.#s.notify({mutation:this,type:"updated",action:e})})}};function o(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},25524:function(e,t,s){"use strict";s.d(t,{D:function(){return u}});var r=s(2265),a=s(92812),i=s(69948),n=s(49010),o=s(56298),c=class extends n.l{#e;#i=void 0;#n;#o;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#c()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(t.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#c(),this.#l(e)}getCurrentResult(){return this.#i}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#c(),this.#l()}mutate(e,t){return this.#o=t,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#c(){let e=this.#n?.state??(0,a.R)();this.#i={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#l(e){i.Vr.batch(()=>{if(this.#o&&this.hasListeners()){let t=this.#i.variables,s=this.#i.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#o.onSuccess?.(e.data,t,s,r)}catch(e){Promise.reject(e)}try{this.#o.onSettled?.(e.data,null,t,s,r)}catch(e){Promise.reject(e)}}else if(e?.type==="error"){try{this.#o.onError?.(e.error,t,s,r)}catch(e){Promise.reject(e)}try{this.#o.onSettled?.(void 0,e.error,t,s,r)}catch(e){Promise.reject(e)}}}this.listeners.forEach(e=>{e(this.#i)})})}},l=s(93191);function u(e,t){let s=(0,l.NL)(t),[a]=r.useState(()=>new c(s,e));r.useEffect(()=>{a.setOptions(e)},[a,e]);let n=r.useSyncExternalStore(r.useCallback(e=>a.subscribe(i.Vr.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),u=r.useCallback((e,t)=>{a.mutate(e,t).catch(o.ZT)},[a]);if(n.error&&(0,o.L3)(a.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:u,mutateAsync:n.mutate}}},76351:function(e,t,s){"use strict";s.d(t,{a:function(){return i}});var r=s(83667),a=s(24713);function i(e,t){return(0,a.r)(e,r.z,t)}}},function(e){e.O(0,[289,176,842,971,23,744],function(){return e(e.s=69348)}),_N_E=e.O()}]);