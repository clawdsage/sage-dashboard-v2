(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[263],{52423:function(e,t,r){Promise.resolve().then(r.bind(r,59337))},22468:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(81066).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},74697:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(81066).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},16463:function(e,t,r){"use strict";var n=r(71169);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},59337:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(57437),a=r(2265),i=r(16463),c=r(34446),o=r(21513),s=r(55306),u=r(31855),l=r(6760);function d(e){let{eventType:t,onActivityClick:r}=e,{activities:a,isLoading:i,error:d,hasMore:h,loadMore:p}=(0,u.X)(t);return d?(0,n.jsx)("div",{className:"text-center py-8",children:(0,n.jsx)("p",{className:"text-red-500",children:"Failed to load activities"})}):i&&0===a.length?(0,n.jsx)("div",{className:"space-y-3",children:Array.from({length:5}).map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center gap-3 p-3 animate-pulse",children:[(0,n.jsx)("div",{className:"w-5 h-5 bg-gray-300 dark:bg-gray-600 rounded"}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-3/4 mb-1"}),(0,n.jsx)("div",{className:"h-3 bg-gray-300 dark:bg-gray-600 rounded w-1/2"})]}),(0,n.jsx)("div",{className:"h-3 bg-gray-300 dark:bg-gray-600 rounded w-16"})]},t))}):0===a.length?(0,n.jsx)("div",{className:"text-center py-8",children:(0,n.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No activity yet"})}):(0,n.jsxs)("div",{className:"space-y-0",children:[(0,n.jsx)(c.M,{initial:!1,children:a.map((e,t)=>(0,n.jsx)(o.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3,delay:.05*t},children:(0,n.jsx)(s.l,{activity:e,onClick:()=>null==r?void 0:r(e)})},e.id))}),h&&(0,n.jsx)("div",{className:"text-center py-4",children:(0,n.jsx)(l.z,{onClick:p,variant:"outline",disabled:i,children:i?"Loading...":"Load More"})})]})}let h=[{label:"All",value:"all"},{label:"Agents",value:"agent"},{label:"Projects",value:"project"},{label:"Reviews",value:"review"}];function p(){let[e,t]=(0,a.useState)("all"),r=(0,i.useRouter)();return(0,n.jsxs)("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Activity"}),(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:h.map(r=>(0,n.jsx)("button",{onClick:()=>t(r.value),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat(e===r.value?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:r.label},r.value))})}),(0,n.jsx)(d,{eventType:(e=>{switch(e){case"agent":return"agent";case"project":return"project";case"review":return"review";default:return}})(e),onActivityClick:e=>{"project"===e.entity_type&&e.entity_id?r.push("/projects/".concat(e.entity_id)):"agent"===e.entity_type&&e.entity_id?r.push("/agents/".concat(e.entity_id)):"task"===e.entity_type&&e.entity_id&&r.push("/projects")}})]})}},55306:function(e,t,r){"use strict";r.d(t,{l:function(){return g}});var n=r(57437);r(2265);var a=r(81066);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);var c=r(22468),o=r(74697);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.Z)("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),u=(0,a.Z)("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),l=(0,a.Z)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),d=(0,a.Z)("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);var h=r(63541);let p=e=>{switch(e){case"agent_started":return{icon:i,color:"text-accent-blue"};case"agent_completed":return{icon:c.Z,color:"text-accent-green"};case"agent_failed":return{icon:o.Z,color:"text-accent-red"};case"project_created":return{icon:s,color:"text-accent-purple"};case"task_completed":return{icon:u,color:"text-accent-green"};case"review_approved":return{icon:l,color:"text-accent-green"};case"review_rejected":return{icon:d,color:"text-accent-red"};default:return{icon:i,color:"text-text-muted"}}};function g(e){let{activity:t,onClick:r}=e,{icon:a,color:i}=p(t.event_type),c=(0,h.SY)(new Date(t.created_at));return(0,n.jsxs)("div",{className:"flex items-center gap-3 p-3 border-b border-border-subtle hover:bg-bg-tertiary cursor-pointer transition-colors",onClick:r,children:[(0,n.jsx)("div",{className:"flex-shrink-0 ".concat(i),children:(0,n.jsx)(a,{size:20})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-text-primary truncate",children:t.title}),t.description&&(0,n.jsx)("p",{className:"text-xs text-text-muted truncate",children:t.description})]}),(0,n.jsx)("div",{className:"flex-shrink-0 text-xs text-text-muted",children:c})]})}},6760:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});var n=r(57437),a=r(2265),i=r(13027),c=r(49354);let o=(0,i.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-bg-primary",{variants:{variant:{default:"bg-accent-blue text-white hover:bg-accent-blue/80",secondary:"bg-bg-tertiary text-text-primary hover:bg-bg-tertiary/80",outline:"border border-border-default bg-transparent text-text-primary hover:bg-bg-tertiary",ghost:"bg-transparent text-text-primary hover:bg-bg-tertiary",success:"bg-accent-green text-white hover:bg-accent-green/80",danger:"bg-accent-red text-white hover:bg-accent-red/80"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),s=(0,a.forwardRef)((e,t)=>{let{className:r,variant:a,size:i,asChild:s=!1,...u}=e;return(0,n.jsx)("button",{className:(0,c.cn)(o({variant:a,size:i,className:r})),ref:t,...u})});s.displayName="Button"},31855:function(e,t,r){"use strict";r.d(t,{X:function(){return l}});var n=r(93191),a=r(83667),i=r(50836),c=class extends a.z{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:(0,i.Gm)()})}getOptimisticResult(e){return e.behavior=(0,i.Gm)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){let{state:r}=e,n=super.createResult(e,t),{isFetching:a,isRefetching:c,isError:o,isRefetchError:s}=n,u=r.fetchMeta?.fetchMore?.direction,l=o&&"forward"===u,d=a&&"forward"===u,h=o&&"backward"===u,p=a&&"backward"===u;return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,i.Qy)(t,r.data),hasPreviousPage:(0,i.ZF)(t,r.data),isFetchNextPageError:l,isFetchingNextPage:d,isFetchPreviousPageError:h,isFetchingPreviousPage:p,isRefetchError:s&&!l&&!h,isRefetching:c&&!d&&!p}}},o=r(24713),s=r(2265),u=r(44316);function l(e){var t,r;let a=(0,n.NL)(),i=(r={queryKey:["activity",e],queryFn:async t=>{let{pageParam:r=0}=t,n=u.O.from("activity_log").select("*").order("created_at",{ascending:!1}).range(20*r,(r+1)*20-1);e&&(Array.isArray(e)?n=n.in("event_type",e):"all"!==e&&(n=n.ilike("event_type","".concat(e,"%"))));let{data:a,error:i}=await n;if(i)throw i;return a},getNextPageParam:(e,t)=>20===e.length?t.length:void 0,initialPageParam:0},(0,o.r)(r,c,void 0));(0,s.useEffect)(()=>{let e=u.O.channel("activity_log_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"activity_log"},e=>{a.invalidateQueries({queryKey:["activity"]})}).subscribe();return()=>{u.O.removeChannel(e)}},[a]);let l=(null===(t=i.data)||void 0===t?void 0:t.pages.flat())||[],d=i.isLoading;return{activities:l,isLoading:d,error:i.error,hasMore:!!i.hasNextPage,loadMore:()=>i.fetchNextPage()}}},63541:function(e,t,r){"use strict";function n(e){if(!e||e<0)return"0s";let t=Math.floor(e/1e3),r=Math.floor(t/60),n=Math.floor(r/60);return n>0?"".concat(n,"h ").concat(r%60,"m"):r>0?"".concat(r,"m ").concat(t%60,"s"):"".concat(t,"s")}function a(e,t){if(null==e||0===e)return"$0.00";let r=t?"~$":"$";if(e<.01){let t=Number(e).toFixed(4).replace(/\.?0+$/,"");return"".concat(r).concat(t)}return"".concat(r).concat(Number(e).toFixed(2))}r.d(t,{GG:function(){return a},LU:function(){return n},SY:function(){return s},Wn:function(){return c},hw:function(){return o}});let i={grok:{input:.1,output:.5},"grok-code":{input:.1,output:.5},"grok-code-fast":{input:.05,output:.25},"claude-sonnet":{input:3,output:15},"claude-opus":{input:15,output:75},"claude-haiku":{input:.25,output:1.25},"gpt-4o":{input:2.5,output:10},"gpt-4":{input:30,output:60},"gpt-3.5":{input:.5,output:1.5},deepseek:{input:.14,output:.28},"deepseek-coder":{input:.14,output:.28},gemini:{input:.075,output:.3},"gemini-flash":{input:.075,output:.3},qwen:{input:.1,output:.3},default:{input:.5,output:1.5}};function c(e,t){if(!e||e<=0)return 0;let r=i.default;if(t){let e=t.toLowerCase();for(let[t,n]of Object.entries(i))if(e.includes(t)){r=n;break}}return .3*e/1e6*r.input+.7*e/1e6*r.output}function o(e){return e?e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"k"):e.toString():"0"}function s(e){let t=new Date,r=new Date(e),n=Math.floor(Math.floor((t.getTime()-r.getTime())/1e3)/60),a=Math.floor(n/60),i=Math.floor(a/24);return i>0?"".concat(i," day").concat(i>1?"s":""," ago"):a>0?"".concat(a," hour").concat(a>1?"s":""," ago"):n>0?"".concat(n," minute").concat(n>1?"s":""," ago"):"Just now"}},44316:function(e,t,r){"use strict";r.d(t,{O:function(){return n}});let n=(0,r(17327).eI)("https://kunkqedkkpwaspsucytj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt1bmtxZWRra3B3YXNwc3VjeXRqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk3Mzg4MTgsImV4cCI6MjA4NTMxNDgxOH0.gLXr1NCOSaLKGySozsDKJucOhtEDrm1OOfmbj7Z7-1o")},49354:function(e,t,r){"use strict";r.d(t,{SY:function(){return o},aF:function(){return s},cn:function(){return i},p6:function(){return c}});var n=r(44839),a=r(96164);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}function c(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(e))}function o(e){let t=new Date,r=new Date(e),n=Math.floor((t.getTime()-r.getTime())/1e3);return n<60?"just now":n<3600?"".concat(Math.floor(n/60),"m ago"):n<86400?"".concat(Math.floor(n/3600),"h ago"):"".concat(Math.floor(n/86400),"d ago")}function s(e,t){return e.length<=t?e:e.slice(0,t)+"..."}},50836:function(e,t,r){"use strict";r.d(t,{Gm:function(){return a},Qy:function(){return o},ZF:function(){return s}});var n=r(56298);function a(e){return{onFetch:(t,r)=>{let a=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],u=t.state.data?.pageParams||[],l={pages:[],pageParams:[]},d=0,h=async()=>{let r=!1,h=e=>{(0,n.I4)(e,()=>t.signal,()=>r=!0)},p=(0,n.cG)(t.options,t.fetchOptions),g=async(e,a,i)=>{if(r)return Promise.reject();if(null==a&&e.pages.length)return Promise.resolve(e);let c=(()=>{let e={client:t.client,queryKey:t.queryKey,pageParam:a,direction:i?"backward":"forward",meta:t.options.meta};return h(e),e})(),o=await p(c),{maxPages:s}=t.options,u=i?n.Ht:n.VX;return{pages:u(e.pages,o,s),pageParams:u(e.pageParams,a,s)}};if(o&&s.length){let e="backward"===o,t={pages:s,pageParams:u},r=(e?c:i)(a,t);l=await g(t,r,e)}else{let t=e??s.length;do{let e=0===d?u[0]??a.initialPageParam:i(a,l);if(d>0&&null==e)break;l=await g(l,e),d++}while(d<t)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=h}}}function i(e,{pages:t,pageParams:r}){let n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function c(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}function o(e,t){return!!t&&null!=i(e,t)}function s(e,t){return!!t&&!!e.getPreviousPageParam&&null!=c(e,t)}}},function(e){e.O(0,[289,176,842,971,23,744],function(){return e(e.s=52423)}),_N_E=e.O()}]);