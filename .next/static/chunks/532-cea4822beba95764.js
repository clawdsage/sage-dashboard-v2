"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[532],{22468:function(e,t,n){n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(81066).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},56138:function(e,t,n){n.d(t,{j:function(){return h}});var a=n(57437),r=n(2265),s=n(21513),i=n(34446),c=n(649),l=n(64608),o=n(49354),d=n(22468);function u(e){let{status:t,className:n}=e;return"active"===t?(0,a.jsxs)("div",{className:(0,o.cn)("relative",n),children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-accent-green rounded-full animate-pulse"}),(0,a.jsx)("div",{className:"absolute inset-0 w-2 h-2 bg-accent-green rounded-full animate-ping opacity-75"})]}):"completed"===t?(0,a.jsx)("div",{className:(0,o.cn)("w-4 h-4 rounded-full bg-text-muted/20 flex items-center justify-center",n),children:(0,a.jsx)(d.Z,{className:"w-3 h-3 text-text-muted"})}):(0,a.jsx)("div",{className:(0,o.cn)("w-2 h-2 rounded-full",{failed:"bg-accent-red",idle:"bg-text-muted"}[t]||"bg-text-muted",n)})}var m=n(63541);function x(e){let{agent:t}=e,[n,d]=(0,r.useState)(!1),x=new Date,h=new Date(t.started_at),f="active"===t.status?x.getTime()-h.getTime():t.completed_at?new Date(t.completed_at).getTime()-h.getTime():0,p=t.cost>0?t.cost:(0,m.Wn)(t.tokens_used,t.model),g=0===t.cost&&p>0;return(0,a.jsxs)(l.Zb,{className:(0,o.cn)("cursor-pointer transition-all duration-200 hover:shadow-lg","active"===t.status&&"ring-1 ring-accent-blue/20 shadow-glow"),onClick:()=>d(!n),children:[(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,a.jsx)(u,{status:t.status}),(0,a.jsx)("h3",{className:"font-medium text-text-primary text-sm truncate",children:t.name})]}),(0,a.jsx)(c.C,{variant:{idle:"secondary",active:"default",completed:"success",failed:"danger"}[t.status],className:"capitalize text-xs ml-2 shrink-0",children:t.status})]}),"active"===t.status&&(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsx)("div",{className:"w-full bg-bg-tertiary rounded-full h-1.5",children:(0,a.jsx)(s.E.div,{className:"bg-accent-blue h-1.5 rounded-full",initial:{width:0},animate:{width:"".concat(t.progress,"%")},transition:{duration:.5,ease:"easeOut"}})})}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-text-muted mb-2",children:[(0,a.jsx)("span",{children:(0,a.jsx)("span",{className:"text-text-secondary",children:(0,m.LU)(f)})}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-text-secondary",children:(0,m.hw)(t.tokens_used)})," tokens"]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:g?"text-text-muted italic":"",children:(0,a.jsx)("span",{className:"text-text-secondary",children:(0,m.GG)(p,g)})})]}),(0,a.jsx)("p",{className:"text-text-muted text-xs line-clamp-2",children:t.task_description||"No description"})]}),(0,a.jsx)(i.M,{children:n&&(0,a.jsx)(s.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-border-subtle",children:(0,a.jsx)("div",{className:"p-4 pt-3 space-y-3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-text-primary mb-2",children:"Details"}),(0,a.jsxs)("dl",{className:"space-y-1 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("dt",{className:"text-text-muted",children:"Started"}),(0,a.jsx)("dd",{className:"text-text-primary",children:(0,m.SY)(t.started_at)})]}),t.completed_at&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("dt",{className:"text-text-muted",children:"Completed"}),(0,a.jsx)("dd",{className:"text-text-primary",children:(0,m.SY)(t.completed_at)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("dt",{className:"text-text-muted",children:"Tokens Used"}),(0,a.jsx)("dd",{className:"text-text-primary",children:t.tokens_used.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("dt",{className:"text-text-muted",children:"API Calls"}),(0,a.jsx)("dd",{className:"text-text-primary",children:t.api_calls})]})]})]})})})})]})}function h(e){let{agents:t,isLoading:n,error:r,onRetry:s}=e;if(n)return(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((e,t)=>(0,a.jsxs)(l.Zb,{className:"p-4 animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-bg-tertiary rounded mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-bg-tertiary rounded mb-4"}),(0,a.jsx)("div",{className:"h-2 bg-bg-tertiary rounded"})]},t))});if(r)return(0,a.jsxs)(l.Zb,{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"text-accent-red mb-4",children:(0,a.jsx)("svg",{className:"w-12 h-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-text-primary mb-2",children:"Failed to load agents"}),(0,a.jsx)("p",{className:"text-text-secondary mb-4",children:r.message}),s&&(0,a.jsx)("button",{onClick:s,className:"px-4 py-2 bg-accent-blue text-text-primary rounded-lg hover:bg-accent-blue/80 transition-colors",children:"Try Again"})]});if(0===t.length)return(0,a.jsxs)(l.Zb,{className:"p-12 text-center",children:[(0,a.jsx)("div",{className:"text-text-muted mb-4",children:(0,a.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-text-primary mb-2",children:"No active agents"}),(0,a.jsx)("p",{className:"text-text-secondary",children:"Agents will appear here when they start running."})]});let i=[...t].sort((e,t)=>"active"===e.status&&"active"!==t.status?-1:"active"===t.status&&"active"!==e.status?1:new Date(t.started_at).getTime()-new Date(e.started_at).getTime());return(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i.map(e=>(0,a.jsx)(x,{agent:e},e.id))})}},649:function(e,t,n){n.d(t,{C:function(){return c}});var a=n(57437),r=n(13027),s=n(49354);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-accent-blue text-white hover:bg-accent-blue/80",secondary:"border-transparent bg-bg-tertiary text-text-primary hover:bg-bg-tertiary/80",outline:"text-text-primary",success:"border-transparent bg-accent-green text-white hover:bg-accent-green/80",warning:"border-transparent bg-accent-amber text-white hover:bg-accent-amber/80",danger:"border-transparent bg-accent-red text-white hover:bg-accent-red/80"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:n,...r}=e;return(0,a.jsx)("div",{className:(0,s.cn)(i({variant:n}),t),...r})}},64608:function(e,t,n){n.d(t,{Ol:function(){return c},Zb:function(){return i},aY:function(){return o},ll:function(){return l}});var a=n(57437),r=n(2265),s=n(49354);let i=(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border border-border-subtle bg-bg-secondary text-text-primary shadow-sm",n),...r})});i.displayName="Card";let c=(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",n),...r})});c.displayName="CardHeader";let l=(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",n),...r})});l.displayName="CardTitle",(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-text-muted",n),...r})}).displayName="CardDescription";let o=(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",n),...r})});o.displayName="CardContent",(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",n),...r})}).displayName="CardFooter"},54904:function(e,t,n){n.d(t,{P:function(){return c}});var a=n(93191),r=n(76351),s=n(2265),i=n(44316);function c(e){let t=(0,a.NL)(),n=(0,r.a)({queryKey:["agents",e],queryFn:async()=>{let t=i.O.from("subagent_runs").select("*").neq("name","sage-main-status").order("started_at",{ascending:!1});e&&(t=t.eq("status",e));let{data:n,error:a}=await t;if(a)throw a;return n}});return(0,s.useEffect)(()=>{let e=i.O.channel("subagent_runs_changes").on("postgres_changes",{event:"*",schema:"public",table:"subagent_runs"},e=>{t.invalidateQueries({queryKey:["agents"]})}).subscribe();return()=>{i.O.removeChannel(e)}},[t]),{agents:n.data||[],isLoading:n.isLoading,error:n.error}}},63541:function(e,t,n){function a(e){if(!e||e<0)return"0s";let t=Math.floor(e/1e3),n=Math.floor(t/60),a=Math.floor(n/60);return a>0?"".concat(a,"h ").concat(n%60,"m"):n>0?"".concat(n,"m ").concat(t%60,"s"):"".concat(t,"s")}function r(e,t){if(null==e||0===e)return"$0.00";let n=t?"~$":"$";if(e<.01){let t=Number(e).toFixed(4).replace(/\.?0+$/,"");return"".concat(n).concat(t)}return"".concat(n).concat(Number(e).toFixed(2))}n.d(t,{GG:function(){return r},LU:function(){return a},SY:function(){return l},Wn:function(){return i},hw:function(){return c}});let s={grok:{input:.1,output:.5},"grok-code":{input:.1,output:.5},"grok-code-fast":{input:.05,output:.25},"claude-sonnet":{input:3,output:15},"claude-opus":{input:15,output:75},"claude-haiku":{input:.25,output:1.25},"gpt-4o":{input:2.5,output:10},"gpt-4":{input:30,output:60},"gpt-3.5":{input:.5,output:1.5},deepseek:{input:.14,output:.28},"deepseek-coder":{input:.14,output:.28},gemini:{input:.075,output:.3},"gemini-flash":{input:.075,output:.3},qwen:{input:.1,output:.3},default:{input:.5,output:1.5}};function i(e,t){if(!e||e<=0)return 0;let n=s.default;if(t){let e=t.toLowerCase();for(let[t,a]of Object.entries(s))if(e.includes(t)){n=a;break}}return .3*e/1e6*n.input+.7*e/1e6*n.output}function c(e){return e?e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"k"):e.toString():"0"}function l(e){let t=new Date,n=new Date(e),a=Math.floor(Math.floor((t.getTime()-n.getTime())/1e3)/60),r=Math.floor(a/60),s=Math.floor(r/24);return s>0?"".concat(s," day").concat(s>1?"s":""," ago"):r>0?"".concat(r," hour").concat(r>1?"s":""," ago"):a>0?"".concat(a," minute").concat(a>1?"s":""," ago"):"Just now"}},44316:function(e,t,n){n.d(t,{O:function(){return a}});let a=(0,n(17327).eI)("https://kunkqedkkpwaspsucytj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt1bmtxZWRra3B3YXNwc3VjeXRqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk3Mzg4MTgsImV4cCI6MjA4NTMxNDgxOH0.gLXr1NCOSaLKGySozsDKJucOhtEDrm1OOfmbj7Z7-1o")},49354:function(e,t,n){n.d(t,{SY:function(){return c},aF:function(){return l},cn:function(){return s},p6:function(){return i}});var a=n(44839),r=n(96164);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.m6)((0,a.W)(t))}function i(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(e))}function c(e){let t=new Date,n=new Date(e),a=Math.floor((t.getTime()-n.getTime())/1e3);return a<60?"just now":a<3600?"".concat(Math.floor(a/60),"m ago"):a<86400?"".concat(Math.floor(a/3600),"h ago"):"".concat(Math.floor(a/86400),"d ago")}function l(e,t){return e.length<=t?e:e.slice(0,t)+"..."}}}]);